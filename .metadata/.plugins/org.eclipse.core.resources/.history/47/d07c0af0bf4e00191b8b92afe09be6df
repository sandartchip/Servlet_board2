<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<%@ page import = "java.util.ArrayList"  %>
<%@ page import = "com.board.vo.BoardVO"  %>
<%@ taglib prefix="c"   uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>게시글 목록 페이지</title>
</head>
<body>
	<H1>게시글 목록 페이지 입니다</H1>
	<% 
		// ListServlet.java에서 dispatcher 통해  페이지 이동 및 파라미터 동시에 넘어 옴.
		String content = (String) request.getAttribute("test");
		System.out.println("서블릿에서 온 데이터 = "+content); 
		
		ArrayList <BoardVO> vo_list = (ArrayList<BoardVO>) request.getAttribute("BoardVO");

		System.out.println("vo list의 size= " + vo_list);
		for(int i=0;i<vo_list.size();i++) {
			BoardVO vo = vo_list.get(i);
			System.out.println("DB에서 읽어온 "+i+"번째 데이터의 제목= "+ vo.getTitle() + "내용= "+ vo.getContent());
		}
	%>
	
		<div>
		<table>
			<thead>
				<tr>
					<th>번호</th>
					<th>제목</th>
					<th>등록일시</th>
					<th>수정일시</th>
				</tr>
			</thead>
			<tbody>
				<c:forEach items="${vo_list}" var="vo">
					<tr>
						<td>$vo.title}</td>
						<td>${vo.content}</td>
						<td>dd</td>
						<td>sdf</td>
					</tr>
				</c:forEach>
			</tbody>
		</table>
	</div>
</body>
</html>